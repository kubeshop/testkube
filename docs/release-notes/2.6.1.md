## Testkube 2.6.1

This patch release includes important security updates and bug fixes for webhook event handling.

## üîí Security Updates

* **CVE Fixes (February 2025)** ([#7036](https://github.com/kubeshop/testkube/pull/7036))
  - Updated Alpine base image to 3.23.3
  - Updated dependencies to address reported CVEs
  - Addresses security vulnerabilities identified in February 2025

## üêõ Bug Fixes

* **[TKC-4867] Webhook Event Issues - Misleading Logs and Incorrect Event Types** ([#7032](https://github.com/kubeshop/testkube/pull/7032))
  
  This comprehensive fix addresses multiple issues with webhook event handling:
  
  **Become Event Handling:**
  - Fixed silent failures for "become" events where webhooks appeared to succeed with status_code:0
  - Added debug logging when webhooks are skipped due to state not changing
  - Introduced dedicated `skippedBecomeEvent` variable for clearer tracking of skipped webhooks
  - Fixed metrics and telemetry collection to skip non-executed webhooks
  - Added comprehensive tests for become event state transitions
  
  **Execution Queueing Events:**
  - Fixed incorrect end events being emitted during execution queueing
  - The `dispatchExecutionEvents` function was incorrectly sending `end-testworkflow-failed` events for executions with status "assigned" (not finished)
  - Removed switch statement that emitted end events during queueing phase
  - End events are now correctly sent only by `FinishExecution` in `agent_grpc_runner.go` when executions actually complete
  
  **Technical Improvements:**
  - Enhanced test precision with strict mock expectations (changed `AnyTimes()` to `Times(1)`)
  - Clearer conditional logic distinguishing between webhook skip scenarios and HTTP errors
  - Improved code maintainability and debugging capabilities

## üìù Changelog

### Security
* 20803ec9e: chore: fix CVE reported feb 2025 (#7036) (@caiomede-tk)

### Bug Fixes
* 96442546e: fix: [TKC-4867] webhook event issues - misleading logs and incorrect event types (#7032) (@Copilot, @vsukhin)

### Commits
* f110f2ca1: chore: release 2.6.1

**Full Changelog**: https://github.com/kubeshop/testkube/compare/2.6.0...2.6.1
